<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Knicks Universe – Media Ratings</title>
  <meta name="description" content="Fan voting for KnicksUniverse.com — rate NBA media personalities 10 (GOAT) to 1 (Trash). Votes are stored via Google Forms without leaving the page." />

  <style>
    :root{
      --knicks-blue:#006BB6;
      --knicks-orange:#F58426;
      --bg:#0b1020;
      --card:#0f172a;
      --card2:#111c34;
      --text:#f8fafc;
      --muted:#a7b0c0;
      --border:rgba(148,163,184,.22);
      --shadow:0 10px 30px rgba(0,0,0,.35);
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial;
      background:
        radial-gradient(900px 500px at 15% 10%, rgba(0,107,182,.25), transparent 55%),
        radial-gradient(900px 500px at 85% 15%, rgba(245,132,38,.18), transparent 55%),
        var(--bg);
      color:var(--text);
    }

    .wrap{
      max-width:1100px;
      margin:0 auto;
      padding:28px 16px 70px;
    }

    header{
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap:18px;
      flex-wrap:wrap;
      padding:10px 0 18px;
      border-bottom:1px solid var(--border);
      margin-bottom:18px;
    }

    .brand{
      display:flex;
      flex-direction:column;
      gap:6px;
    }

    .brand h1{
      margin:0;
      font-size:1.6rem;
      letter-spacing:.2px;
    }

    .brand p{
      margin:0;
      color:var(--muted);
      font-size:.95rem;
      line-height:1.35;
    }

    .badge{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:10px 12px;
      border:1px solid var(--border);
      border-radius:14px;
      background:rgba(15,23,42,.7);
      box-shadow:var(--shadow);
      font-weight:800;
      font-size:.9rem;
      white-space:nowrap;
    }

    .dot{
      width:10px;height:10px;border-radius:999px;
      background:var(--knicks-orange);
      box-shadow:0 0 0 4px rgba(245,132,38,.22);
    }

    .section-title{
      margin:18px 0 10px;
      font-size:1.05rem;
      font-weight:900;
      letter-spacing:.3px;
      color:var(--text);
    }

    /* Sort bar */
    .sortbar{
      margin-top:12px;
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
    }
    .sortbar-label{
      color:var(--muted);
      font-size:.9rem;
      font-weight:800;
    }
    .sortbtn{
      padding:8px 12px;
      border-radius:999px;
      border:1px solid var(--border);
      background:rgba(15,23,42,.82);
      color:var(--text);
      cursor:pointer;
      font-weight:900;
      font-size:.85rem;
      transition:transform .12s ease;
    }
    .sortbtn:hover{ transform:translateY(-1px); }
    .sortbtn.active{
      border-color:var(--knicks-orange);
      box-shadow:0 0 0 2px rgba(245,132,38,.25);
    }

    /* Grid + cards */
    .cards-grid{
      display:grid;
      grid-template-columns:repeat(3, minmax(0, 1fr));
      gap:16px;
      margin-top:14px;
    }
    @media (max-width: 980px){
      .cards-grid{ grid-template-columns:repeat(2, minmax(0, 1fr)); }
    }
    @media (max-width: 640px){
      .cards-grid{ grid-template-columns:1fr; }
    }

    .media-card{
      border:1px solid var(--border);
      border-radius:18px;
      background:linear-gradient(180deg, rgba(17,28,52,.98), rgba(15,23,42,.98));
      box-shadow:var(--shadow);
      overflow:hidden;
    }

    .media-top{
      display:flex;
      gap:12px;
      align-items:center;
      padding:14px 14px 10px;
    }

    .avatar{
      width:62px;height:62px;border-radius:999px;
      border:2px solid rgba(245,132,38,.6);
      overflow:hidden;
      flex:0 0 auto;
      background:rgba(255,255,255,.08);
    }
    .avatar img{
      width:100%;height:100%;
      object-fit:cover;
      display:block;
    }

    .meta{
      min-width:0;
      display:flex;
      flex-direction:column;
      gap:3px;
    }

    .media-name{
      font-weight:950;
      font-size:1.02rem;
      line-height:1.1;
      margin:0;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    .media-affil{
      margin:0;
      font-size:.86rem;
      color:var(--muted);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    .stats{
      display:flex;
      gap:10px;
      padding:0 14px 12px;
    }

    .stat{
      flex:1;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid var(--border);
      background:rgba(2,6,23,.28);
    }
    .stat .label{
      font-size:.72rem;
      color:var(--muted);
      font-weight:900;
      letter-spacing:.3px;
      text-transform:uppercase;
      margin-bottom:4px;
    }
    .stat .value{
      font-size:1.15rem;
      font-weight:950;
    }

    .divider{
      height:1px;
      background:rgba(148,163,184,.18);
      margin:2px 14px 12px;
    }

    .rating-wrap{
      padding:0 14px 14px;
    }

    .rating-label{
      margin:0 0 10px;
      font-size:.9rem;
      font-weight:900;
      color:var(--text);
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px;
    }
    .rating-label span{
      color:var(--muted);
      font-weight:800;
      font-size:.82rem;
    }

    .pills{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      margin-bottom:12px;
    }

    .rating-pill{
      border:1px solid var(--border);
      background:rgba(2,6,23,.28);
      color:var(--text);
      padding:7px 10px;
      border-radius:999px;
      cursor:pointer;
      font-weight:950;
      font-size:.86rem;
      user-select:none;
      transition:transform .12s ease, border-color .12s ease;
    }
    .rating-pill:hover{ transform:translateY(-1px); }
    .rating-pill.selected{
      border-color:var(--knicks-orange);
      box-shadow:0 0 0 2px rgba(245,132,38,.22);
    }

    .submit-row{
      display:flex;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
    }
    .submit-btn{
      border:0;
      padding:10px 12px;
      border-radius:14px;
      font-weight:950;
      cursor:pointer;
      background:linear-gradient(90deg, rgba(0,107,182,.95), rgba(245,132,38,.92));
      color:#071018;
      box-shadow:0 10px 20px rgba(0,0,0,.28);
    }
    .submit-btn:disabled{
      opacity:.45;
      cursor:not-allowed;
      filter:saturate(.6);
    }

    .submit-status{
      color:var(--muted);
      font-size:.85rem;
      font-weight:800;
    }

    footer{
      margin-top:20px;
      color:var(--muted);
      font-size:.85rem;
      line-height:1.35;
      padding-top:16px;
      border-top:1px solid var(--border);
    }
  </style>
</head>

<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <h1>Knicks Universe – Media Ratings</h1>
        <p>Rate national NBA media personalities from <strong>GOAT (10)</strong> to <strong>Trash (1)</strong>. Your vote updates the live averages.</p>
      </div>
      <div class="badge"><span class="dot"></span> Live fan voting</div>
    </header>

    <div class="section-title">National Media</div>

    <div class="sortbar">
      <div class="sortbar-label">Sort:</div>
      <button class="sortbtn active" data-sort="rating" type="button">Highest Rated</button>
      <button class="sortbtn" data-sort="votes" type="button">Most Votes</button>
      <button class="sortbtn" data-sort="az" type="button">A → Z</button>
    </div>

    <div class="cards-grid" id="mediaGrid">

      <!-- Zach Lowe -->
      <div class="media-card">
        <div class="media-top">
          <div class="avatar"><img src="images/media/zach_lowe.jpg" alt="Zach Lowe"></div>
          <div class="meta">
            <p class="media-name">Zach Lowe</p>
            <p class="media-affil">ESPN (The Lowe Post)</p>
          </div>
        </div>
        <div class="stats">
          <div class="stat">
            <div class="label">Avg Fan Score</div>
            <div class="value" data-media-id="zach_lowe">--</div>
          </div>
          <div class="stat">
            <div class="label">Votes</div>
            <div class="value" data-votes-id="zach_lowe">0</div>
          </div>
        </div>
        <div class="divider"></div>
        <div class="rating-wrap">
          <div class="rating-label">Choose a rating <span>10 = GOAT • 1 = Trash</span></div>
          <form class="rating-form" method="POST" target="hidden_iframe"
                action="https://docs.google.com/forms/d/e/1FAIpQLSfGxH9UA_sEKrJqPldkPFDP2CHoLlq4ZHb2UGKyPTao1AgaVg/formResponse">
            <input type="hidden" name="entry.756421029" value="Zach Lowe">
            <input type="hidden" name="entry.1446795869" value="" class="rating-input">
            <div class="pills">
              <div class="rating-pill" data-value="10">10</div><div class="rating-pill" data-value="9">9</div><div class="rating-pill" data-value="8">8</div><div class="rating-pill" data-value="7">7</div><div class="rating-pill" data-value="6">6</div>
              <div class="rating-pill" data-value="5">5</div><div class="rating-pill" data-value="4">4</div><div class="rating-pill" data-value="3">3</div><div class="rating-pill" data-value="2">2</div><div class="rating-pill" data-value="1">1</div>
            </div>
            <div class="submit-row">
              <button class="submit-btn" type="submit" disabled>Submit rating</button>
              <div class="submit-status"></div>
            </div>
          </form>
        </div>
      </div>

      <!-- Stephen A. Smith -->
      <div class="media-card">
        <div class="media-top">
          <div class="avatar"><img src="images/media/stephen_a_smith.jpg" alt="Stephen A. Smith"></div>
          <div class="meta">
            <p class="media-name">Stephen A. Smith</p>
            <p class="media-affil">ESPN</p>
          </div>
        </div>
        <div class="stats">
          <div class="stat"><div class="label">Avg Fan Score</div><div class="value" data-media-id="stephen_a_smith">--</div></div>
          <div class="stat"><div class="label">Votes</div><div class="value" data-votes-id="stephen_a_smith">0</div></div>
        </div>
        <div class="divider"></div>
        <div class="rating-wrap">
          <div class="rating-label">Choose a rating <span>10 = GOAT • 1 = Trash</span></div>
          <form class="rating-form" method="POST" target="hidden_iframe"
                action="https://docs.google.com/forms/d/e/1FAIpQLSfGxH9UA_sEKrJqPldkPFDP2CHoLlq4ZHb2UGKyPTao1AgaVg/formResponse">
            <input type="hidden" name="entry.756421029" value="Stephen A. Smith">
            <input type="hidden" name="entry.1446795869" value="" class="rating-input">
            <div class="pills">
              <div class="rating-pill" data-value="10">10</div><div class="rating-pill" data-value="9">9</div><div class="rating-pill" data-value="8">8</div><div class="rating-pill" data-value="7">7</div><div class="rating-pill" data-value="6">6</div>
              <div class="rating-pill" data-value="5">5</div><div class="rating-pill" data-value="4">4</div><div class="rating-pill" data-value="3">3</div><div class="rating-pill" data-value="2">2</div><div class="rating-pill" data-value="1">1</div>
            </div>
            <div class="submit-row">
              <button class="submit-btn" type="submit" disabled>Submit rating</button>
              <div class="submit-status"></div>
            </div>
          </form>
        </div>
      </div>

      <!-- Kevin O'Connor -->
      <div class="media-card">
        <div class="media-top">
          <div class="avatar"><img src="images/media/kevin_oconnor.jpg" alt="Kevin O'Connor (KOC)"></div>
          <div class="meta">
            <p class="media-name">Kevin O'Connor (KOC)</p>
            <p class="media-affil">The Ringer</p>
          </div>
        </div>
        <div class="stats">
          <div class="stat"><div class="label">Avg Fan Score</div><div class="value" data-media-id="kevin_oconnor">--</div></div>
          <div class="stat"><div class="label">Votes</div><div class="value" data-votes-id="kevin_oconnor">0</div></div>
        </div>
        <div class="divider"></div>
        <div class="rating-wrap">
          <div class="rating-label">Choose a rating <span>10 = GOAT • 1 = Trash</span></div>
          <form class="rating-form" method="POST" target="hidden_iframe"
                action="https://docs.google.com/forms/d/e/1FAIpQLSfGxH9UA_sEKrJqPldkPFDP2CHoLlq4ZHb2UGKyPTao1AgaVg/formResponse">
            <input type="hidden" name="entry.756421029" value="Kevin O'Connor (KOC)">
            <input type="hidden" name="entry.1446795869" value="" class="rating-input">
            <div class="pills">
              <div class="rating-pill" data-value="10">10</div><div class="rating-pill" data-value="9">9</div><div class="rating-pill" data-value="8">8</div><div class="rating-pill" data-value="7">7</div><div class="rating-pill" data-value="6">6</div>
              <div class="rating-pill" data-value="5">5</div><div class="rating-pill" data-value="4">4</div><div class="rating-pill" data-value="3">3</div><div class="rating-pill" data-value="2">2</div><div class="rating-pill" data-value="1">1</div>
            </div>
            <div class="submit-row">
              <button class="submit-btn" type="submit" disabled>Submit rating</button>
              <div class="submit-status"></div>
            </div>
          </form>
        </div>
      </div>

      <!-- Chris Vernon -->
      <div class="media-card">
        <div class="media-top">
          <div class="avatar"><img src="images/media/chris_vernon.jpg" alt="Chris Vernon"></div>
          <div class="meta">
            <p class="media-name">Chris Vernon</p>
            <p class="media-affil">The Ringer</p>
          </div>
        </div>
        <div class="stats">
          <div class="stat"><div class="label">Avg Fan Score</div><div class="value" data-media-id="chris_vernon">--</div></div>
          <div class="stat"><div class="label">Votes</div><div class="value" data-votes-id="chris_vernon">0</div></div>
        </div>
        <div class="divider"></div>
        <div class="rating-wrap">
          <div class="rating-label">Choose a rating <span>10 = GOAT • 1 = Trash</span></div>
          <form class="rating-form" method="POST" target="hidden_iframe"
                action="https://docs.google.com/forms/d/e/1FAIpQLSfGxH9UA_sEKrJqPldkPFDP2CHoLlq4ZHb2UGKyPTao1AgaVg/formResponse">
            <input type="hidden" name="entry.756421029" value="Chris Vernon">
            <input type="hidden" name="entry.1446795869" value="" class="rating-input">
            <div class="pills">
              <div class="rating-pill" data-value="10">10</div><div class="rating-pill" data-value="9">9</div><div class="rating-pill" data-value="8">8</div><div class="rating-pill" data-value="7">7</div><div class="rating-pill" data-value="6">6</div>
              <div class="rating-pill" data-value="5">5</div><div class="rating-pill" data-value="4">4</div><div class="rating-pill" data-value="3">3</div><div class="rating-pill" data-value="2">2</div><div class="rating-pill" data-value="1">1</div>
            </div>
            <div class="submit-row">
              <button class="submit-btn" type="submit" disabled>Submit rating</button>
              <div class="submit-status"></div>
            </div>
          </form>
        </div>
      </div>

      <!-- Amin Elhassan -->
      <div class="media-card">
        <div class="media-top">
          <div class="avatar"><img src="images/media/amin_elhassan.jpg" alt="Amin Elhassan"></div>
          <div class="meta">
            <p class="media-name">Amin Elhassan</p>
            <p class="media-affil">Meadowlark</p>
          </div>
        </div>
        <div class="stats">
          <div class="stat"><div class="label">Avg Fan Score</div><div class="value" data-media-id="amin_elhassan">--</div></div>
          <div class="stat"><div class="label">Votes</div><div class="value" data-votes-id="amin_elhassan">0</div></div>
        </div>
        <div class="divider"></div>
        <div class="rating-wrap">
          <div class="rating-label">Choose a rating <span>10 = GOAT • 1 = Trash</span></div>
          <form class="rating-form" method="POST" target="hidden_iframe"
                action="https://docs.google.com/forms/d/e/1FAIpQLSfGxH9UA_sEKrJqPldkPFDP2CHoLlq4ZHb2UGKyPTao1AgaVg/formResponse">
            <input type="hidden" name="entry.756421029" value="Amin Elhassan">
            <input type="hidden" name="entry.1446795869" value="" class="rating-input">
            <div class="pills">
              <div class="rating-pill" data-value="10">10</div><div class="rating-pill" data-value="9">9</div><div class="rating-pill" data-value="8">8</div><div class="rating-pill" data-value="7">7</div><div class="rating-pill" data-value="6">6</div>
              <div class="rating-pill" data-value="5">5</div><div class="rating-pill" data-value="4">4</div><div class="rating-pill" data-value="3">3</div><div class="rating-pill" data-value="2">2</div><div class="rating-pill" data-value="1">1</div>
            </div>
            <div class="submit-row">
              <button class="submit-btn" type="submit" disabled>Submit rating</button>
              <div class="submit-status"></div>
            </div>
          </form>
        </div>
      </div>

      <!-- Bomani Jones -->
      <div class="media-card">
        <div class="media-top">
          <div class="avatar"><img src="images/media/bomani_jones.jpg" alt="Bomani Jones"></div>
          <div class="meta">
            <p class="media-name">Bomani Jones</p>
            <p class="media-affil">Analyst</p>
          </div>
        </div>
        <div class="stats">
          <div class="stat"><div class="label">Avg Fan Score</div><div class="value" data-media-id="bomani_jones">--</div></div>
          <div class="stat"><div class="label">Votes</div><div class="value" data-votes-id="bomani_jones">0</div></div>
        </div>
        <div class="divider"></div>
        <div class="rating-wrap">
          <div class="rating-label">Choose a rating <span>10 = GOAT • 1 = Trash</span></div>
          <form class="rating-form" method="POST" target="hidden_iframe"
                action="https://docs.google.com/forms/d/e/1FAIpQLSfGxH9UA_sEKrJqPldkPFDP2CHoLlq4ZHb2UGKyPTao1AgaVg/formResponse">
            <input type="hidden" name="entry.756421029" value="Bomani Jones">
            <input type="hidden" name="entry.1446795869" value="" class="rating-input">
            <div class="pills">
              <div class="rating-pill" data-value="10">10</div><div class="rating-pill" data-value="9">9</div><div class="rating-pill" data-value="8">8</div><div class="rating-pill" data-value="7">7</div><div class="rating-pill" data-value="6">6</div>
              <div class="rating-pill" data-value="5">5</div><div class="rating-pill" data-value="4">4</div><div class="rating-pill" data-value="3">3</div><div class="rating-pill" data-value="2">2</div><div class="rating-pill" data-value="1">1</div>
            </div>
            <div class="submit-row">
              <button class="submit-btn" type="submit" disabled>Submit rating</button>
              <div class="submit-status"></div>
            </div>
          </form>
        </div>
      </div>

      <!-- Nick Wright -->
      <div class="media-card">
        <div class="media-top">
          <div class="avatar"><img src="images/media/nick_wright.jpg" alt="Nick Wright"></div>
          <div class="meta">
            <p class="media-name">Nick Wright</p>
            <p class="media-affil">FS1</p>
          </div>
        </div>
        <div class="stats">
          <div class="stat"><div class="label">Avg Fan Score</div><div class="value" data-media-id="nick_wright">--</div></div>
          <div class="stat"><div class="label">Votes</div><div class="value" data-votes-id="nick_wright">0</div></div>
        </div>
        <div class="divider"></div>
        <div class="rating-wrap">
          <div class="rating-label">Choose a rating <span>10 = GOAT • 1 = Trash</span></div>
          <form class="rating-form" method="POST" target="hidden_iframe"
                action="https://docs.google.com/forms/d/e/1FAIpQLSfGxH9UA_sEKrJqPldkPFDP2CHoLlq4ZHb2UGKyPTao1AgaVg/formResponse">
            <input type="hidden" name="entry.756421029" value="Nick Wright">
            <input type="hidden" name="entry.1446795869" value="" class="rating-input">
            <div class="pills">
              <div class="rating-pill" data-value="10">10</div><div class="rating-pill" data-value="9">9</div><div class="rating-pill" data-value="8">8</div><div class="rating-pill" data-value="7">7</div><div class="rating-pill" data-value="6">6</div>
              <div class="rating-pill" data-value="5">5</div><div class="rating-pill" data-value="4">4</div><div class="rating-pill" data-value="3">3</div><div class="rating-pill" data-value="2">2</div><div class="rating-pill" data-value="1">1</div>
            </div>
            <div class="submit-row">
              <button class="submit-btn" type="submit" disabled>Submit rating</button>
              <div class="submit-status"></div>
            </div>
          </form>
        </div>
      </div>

      <!-- Skip Bayless -->
      <div class="media-card">
        <div class="media-top">
          <div class="avatar"><img src="images/media/skip_bayless.jpg" alt="Skip Bayless"></div>
          <div class="meta">
            <p class="media-name">Skip Bayless</p>
            <p class="media-affil">FS1</p>
          </div>
        </div>
        <div class="stats">
          <div class="stat"><div class="label">Avg Fan Score</div><div class="value" data-media-id="skip_bayless">--</div></div>
          <div class="stat"><div class="label">Votes</div><div class="value" data-votes-id="skip_bayless">0</div></div>
        </div>
        <div class="divider"></div>
        <div class="rating-wrap">
          <div class="rating-label">Choose a rating <span>10 = GOAT • 1 = Trash</span></div>
          <form class="rating-form" method="POST" target="hidden_iframe"
                action="https://docs.google.com/forms/d/e/1FAIpQLSfGxH9UA_sEKrJqPldkPFDP2CHoLlq4ZHb2UGKyPTao1AgaVg/formResponse">
            <input type="hidden" name="entry.756421029" value="Skip Bayless">
            <input type="hidden" name="entry.1446795869" value="" class="rating-input">
            <div class="pills">
              <div class="rating-pill" data-value="10">10</div><div class="rating-pill" data-value="9">9</div><div class="rating-pill" data-value="8">8</div><div class="rating-pill" data-value="7">7</div><div class="rating-pill" data-value="6">6</div>
              <div class="rating-pill" data-value="5">5</div><div class="rating-pill" data-value="4">4</div><div class="rating-pill" data-value="3">3</div><div class="rating-pill" data-value="2">2</div><div class="rating-pill" data-value="1">1</div>
            </div>
            <div class="submit-row">
              <button class="submit-btn" type="submit" disabled>Submit rating</button>
              <div class="submit-status"></div>
            </div>
          </form>
        </div>
      </div>

      <!-- Shannon Sharpe -->
      <div class="media-card">
        <div class="media-top">
          <div class="avatar"><img src="images/media/shannon_sharpe.jpg" alt="Shannon Sharpe"></div>
          <div class="meta">
            <p class="media-name">Shannon Sharpe</p>
            <p class="media-affil">Nightcap / Independent</p>
          </div>
        </div>
        <div class="stats">
          <div class="stat"><div class="label">Avg Fan Score</div><div class="value" data-media-id="shannon_sharpe">--</div></div>
          <div class="stat"><div class="label">Votes</div><div class="value" data-votes-id="shannon_sharpe">0</div></div>
        </div>
        <div class="divider"></div>
        <div class="rating-wrap">
          <div class="rating-label">Choose a rating <span>10 = GOAT • 1 = Trash</span></div>
          <form class="rating-form" method="POST" target="hidden_iframe"
                action="https://docs.google.com/forms/d/e/1FAIpQLSfGxH9UA_sEKrJqPldkPFDP2CHoLlq4ZHb2UGKyPTao1AgaVg/formResponse">
            <input type="hidden" name="entry.756421029" value="Shannon Sharpe">
            <input type="hidden" name="entry.1446795869" value="" class="rating-input">
            <div class="pills">
              <div class="rating-pill" data-value="10">10</div><div class="rating-pill" data-value="9">9</div><div class="rating-pill" data-value="8">8</div><div class="rating-pill" data-value="7">7</div><div class="rating-pill" data-value="6">6</div>
              <div class="rating-pill" data-value="5">5</div><div class="rating-pill" data-value="4">4</div><div class="rating-pill" data-value="3">3</div><div class="rating-pill" data-value="2">2</div><div class="rating-pill" data-value="1">1</div>
            </div>
            <div class="submit-row">
              <button class="submit-btn" type="submit" disabled>Submit rating</button>
              <div class="submit-status"></div>
            </div>
          </form>
        </div>
      </div>

      <!-- Malika Andrews -->
      <div class="media-card">
        <div class="media-top">
          <div class="avatar"><img src="images/media/malika_andrews.jpg" alt="Malika Andrews"></div>
          <div class="meta">
            <p class="media-name">Malika Andrews</p>
            <p class="media-affil">ESPN</p>
          </div>
        </div>
        <div class="stats">
          <div class="stat"><div class="label">Avg Fan Score</div><div class="value" data-media-id="malika_andrews">--</div></div>
          <div class="stat"><div class="label">Votes</div><div class="value" data-votes-id="malika_andrews">0</div></div>
        </div>
        <div class="divider"></div>
        <div class="rating-wrap">
          <div class="rating-label">Choose a rating <span>10 = GOAT • 1 = Trash</span></div>
          <form class="rating-form" method="POST" target="hidden_iframe"
                action="https://docs.google.com/forms/d/e/1FAIpQLSfGxH9UA_sEKrJqPldkPFDP2CHoLlq4ZHb2UGKyPTao1AgaVg/formResponse">
            <input type="hidden" name="entry.756421029" value="Malika Andrews">
            <input type="hidden" name="entry.1446795869" value="" class="rating-input">
            <div class="pills">
              <div class="rating-pill" data-value="10">10</div><div class="rating-pill" data-value="9">9</div><div class="rating-pill" data-value="8">8</div><div class="rating-pill" data-value="7">7</div><div class="rating-pill" data-value="6">6</div>
              <div class="rating-pill" data-value="5">5</div><div class="rating-pill" data-value="4">4</div><div class="rating-pill" data-value="3">3</div><div class="rating-pill" data-value="2">2</div><div class="rating-pill" data-value="1">1</div>
            </div>
            <div class="submit-row">
              <button class="submit-btn" type="submit" disabled>Submit rating</button>
              <div class="submit-status"></div>
            </div>
          </form>
        </div>
      </div>

      <!-- Kendrick Perkins -->
      <div class="media-card">
        <div class="media-top">
          <div class="avatar"><img src="images/media/kendrick_perkins.jpg" alt="Kendrick Perkins"></div>
          <div class="meta">
            <p class="media-name">Kendrick Perkins</p>
            <p class="media-affil">ESPN</p>
          </div>
        </div>
        <div class="stats">
          <div class="stat"><div class="label">Avg Fan Score</div><div class="value" data-media-id="kendrick_perkins">--</div></div>
          <div class="stat"><div class="label">Votes</div><div class="value" data-votes-id="kendrick_perkins">0</div></div>
        </div>
        <div class="divider"></div>
        <div class="rating-wrap">
          <div class="rating-label">Choose a rating <span>10 = GOAT • 1 = Trash</span></div>
          <form class="rating-form" method="POST" target="hidden_iframe"
                action="https://docs.google.com/forms/d/e/1FAIpQLSfGxH9UA_sEKrJqPldkPFDP2CHoLlq4ZHb2UGKyPTao1AgaVg/formResponse">
            <input type="hidden" name="entry.756421029" value="Kendrick Perkins">
            <input type="hidden" name="entry.1446795869" value="" class="rating-input">
            <div class="pills">
              <div class="rating-pill" data-value="10">10</div><div class="rating-pill" data-value="9">9</div><div class="rating-pill" data-value="8">8</div><div class="rating-pill" data-value="7">7</div><div class="rating-pill" data-value="6">6</div>
              <div class="rating-pill" data-value="5">5</div><div class="rating-pill" data-value="4">4</div><div class="rating-pill" data-value="3">3</div><div class="rating-pill" data-value="2">2</div><div class="rating-pill" data-value="1">1</div>
            </div>
            <div class="submit-row">
              <button class="submit-btn" type="submit" disabled>Submit rating</button>
              <div class="submit-status"></div>
            </div>
          </form>
        </div>
      </div>

    </div>

    <footer>
      Tip: If you don’t see updates instantly, refresh the page. Live stats update every ~30 seconds.
    </footer>
  </div>

  <iframe name="hidden_iframe" style="display:none;"></iframe>

  <script>
    // =========================
    // CONFIG
    // =========================
    const SUMMARY_CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vT2aSqel_NhRmHV-eEl7NkgNpk1tPYwen8cnH9ufyXduQpyuURiGfHTXCAi7Ke56p7paEX3G1brmdtw/pub?gid=2017545017&single=true&output=csv";

    const MEDIA_NAME_BY_ID = {
      zach_lowe: "Zach Lowe",
      stephen_a_smith: "Stephen A. Smith",
      kevin_oconnor: "Kevin O'Connor (KOC)",
      chris_vernon: "Chris Vernon",
      amin_elhassan: "Amin Elhassan",
      bomani_jones: "Bomani Jones",
      nick_wright: "Nick Wright",
      skip_bayless: "Skip Bayless",
      shannon_sharpe: "Shannon Sharpe",
      malika_andrews: "Malika Andrews",
      kendrick_perkins: "Kendrick Perkins"
    };

    // =========================
    // CSV parsing
    // =========================
    function parseCsvLine(line) {
      const result = [];
      let cur = "";
      let inQuotes = false;

      for (let i = 0; i < line.length; i++) {
        const ch = line[i];
        if (ch === '"') {
          if (inQuotes && line[i + 1] === '"') {
            cur += '"';
            i++;
          } else {
            inQuotes = !inQuotes;
          }
        } else if (ch === "," && !inQuotes) {
          result.push(cur);
          cur = "";
        } else {
          cur += ch;
        }
      }
      result.push(cur);
      return result.map(s => s.trim());
    }

    // =========================
    // Voting
    // =========================
    function initVoting() {
      document.querySelectorAll(".media-card").forEach(card => {
        const pills = card.querySelectorAll(".rating-pill");
        const ratingInput = card.querySelector(".rating-input");
        const submitBtn = card.querySelector(".submit-btn");
        const statusEl = card.querySelector(".submit-status");
        const form = card.querySelector("form");

        if (!pills.length || !ratingInput || !submitBtn || !form) return;

        pills.forEach(pill => {
          pill.addEventListener("click", () => {
            const v = pill.dataset.value;
            ratingInput.value = v;

            pills.forEach(p => p.classList.remove("selected"));
            pill.classList.add("selected");

            submitBtn.disabled = false;
            if (statusEl) statusEl.textContent = "";
          });
        });

        form.addEventListener("submit", () => {
          submitBtn.disabled = true;
          if (statusEl) statusEl.textContent = "Vote submitted ✅";
          setTimeout(fetchSummaryAndUpdateUI, 1500);
        });
      });
    }

    // =========================
    // Sorting
    // =========================
    function getCardName(card) {
      const el = card.querySelector(".media-name");
      return (el ? el.textContent : "").trim().toLowerCase();
    }
    function getCardAvg(card) {
      const el = card.querySelector("[data-media-id]");
      const v = el ? Number(el.textContent) : NaN;
      return Number.isFinite(v) ? v : -1;
    }
    function getCardVotes(card) {
      const el = card.querySelector("[data-votes-id]");
      const v = el ? Number(el.textContent) : NaN;
      return Number.isFinite(v) ? v : 0;
    }

    function sortCards(mode) {
      const grid = document.getElementById("mediaGrid");
      if (!grid) return;

      const cards = Array.from(grid.querySelectorAll(".media-card"));

      cards.sort((a, b) => {
        if (mode === "votes") {
          const dv = getCardVotes(b) - getCardVotes(a);
          if (dv !== 0) return dv;
          return getCardAvg(b) - getCardAvg(a);
        }
        if (mode === "az") {
          return getCardName(a).localeCompare(getCardName(b));
        }
        const dr = getCardAvg(b) - getCardAvg(a);
        if (dr !== 0) return dr;
        return getCardVotes(b) - getCardVotes(a);
      });

      cards.forEach(card => grid.appendChild(card));
    }

    function initSorting() {
      const buttons = document.querySelectorAll(".sortbtn");
      if (!buttons.length) return;

      buttons.forEach(btn => {
        btn.addEventListener("click", () => {
          buttons.forEach(b => b.classList.remove("active"));
          btn.classList.add("active");
          sortCards(btn.dataset.sort);
        });
      });

      sortCards("rating");
    }

    // =========================
    // Fetch Summary + update UI
    // =========================
    async function fetchSummaryAndUpdateUI() {
      if (!SUMMARY_CSV_URL || SUMMARY_CSV_URL.includes("PASTE_")) return;

      const url = SUMMARY_CSV_URL + (SUMMARY_CSV_URL.includes("?") ? "&" : "?") + "v=" + Date.now();

      let res;
      try {
        res = await fetch(url, { cache: "no-store" });
      } catch (e) {
        console.error("Failed to fetch CSV:", e);
        return;
      }
      if (!res.ok) {
        console.error("CSV fetch not OK:", res.status, res.statusText);
        return;
      }

      const text = await res.text();
      const lines = text.split(/\r?\n/).filter(Boolean);
      if (lines.length < 2) return;

      const rows = lines.slice(1).map(parseCsvLine);

      const byName = new Map();
      for (const cols of rows) {
        const name = cols[0];
        const avg = cols[1];
        const votes = cols[2];
        if (name) byName.set(name, { avg, votes });
      }

      for (const [id, name] of Object.entries(MEDIA_NAME_BY_ID)) {
        const scoreEl = document.querySelector(`[data-media-id="${id}"]`);
        const votesEl = document.querySelector(`[data-votes-id="${id}"]`);
        const rec = byName.get(name);

        if (!rec) {
          if (scoreEl) scoreEl.textContent = "--";
          if (votesEl) votesEl.textContent = "0";
          continue;
        }

        const avgNum = Number(rec.avg);
        const votesNum = Number(rec.votes);

        if (scoreEl) scoreEl.textContent = Number.isFinite(avgNum) ? avgNum.toFixed(1) : "--";
        if (votesEl) votesEl.textContent = Number.isFinite(votesNum) ? String(votesNum) : "0";
      }

      const active = document.querySelector(".sortbtn.active");
      sortCards(active ? active.dataset.sort : "rating");
    }

    // Boot
    document.addEventListener("DOMContentLoaded", () => {
      initVoting();
      initSorting();
      fetchSummaryAndUpdateUI();
      setInterval(fetchSummaryAndUpdateUI, 30000);
    });
  </script>
</body>
</html>

